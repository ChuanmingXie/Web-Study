### 第7章 JavaScript基础

#### 7.1 JavaScript 简介
    i. 起源简介：
        A. JavaScript语言是NetScape公司开发的一种基于对象的、由浏览器负责解释执行的、
        弱类型的描述性脚本语言。
        B. IE3.0和NetScape3.0以上的浏览器都支持JavaScript语言。
        C. 与HTML以及Applet一起用于开发客户端用户界面
        D. JavaScript是通过嵌入到HTML语言中实现的，可以出现在HTML的任何地方，
            它弥补了HTML语言的缺陷，是Java与HTML折衷的选择
        E. 动态网页分为两种
            a. 种是服务器端动态，主要由JSP、PHP、ASP等等技术实现。
            b. 一种是客户端动态，主要由JavaScript、VBScript语言实现。
        F. 随着服务其的强壮，虽然程序员更喜欢运行于服务器的脚本以保证安全，
        但随着js引擎、框架的发展以及事件驱动及I/O特性，JS页逐渐被用以编写服务器端项目的程序

    ii. JavaScript与java之间的主要区别：
        A. 基于对象和面向对象。
            JavaScript语言是基于对象和事件驱动的脚本语言；
            Java语言是面向对象的语言，可以设计独立的程序
        B. 解释执行和编译执行 
            JavaScript是一种解释性的语言，是将文本格式的代码发送到客户端由浏览器负责解释执行。
            Java代码在执行之前必须编译成字节码文件，由虚拟机负责执行。
        C. 弱类型和强类型。
            JavaScript是弱类型变量，即变量在使用前不需要声明，由解释器负责确定变量的数据类型，
            而Java是一种强类型语言，所有的变量在事情之前必须声明，并且只能存放声明类型的数据。
        D. 动态联编和静态联编。
            JavaScript采用动态联编，即对象的引用在运行时进行检查，如不运行就无法实现对对象引用的检查。
            而Java采用静态连接，即Java对象引用在编译时进行，以使得编译器能够实现强类型检查。
        E. 代码格式不一样，
            Java是一种与HTML无关的语言，而JavaScript主要靠嵌在HTML页面中发挥作用。
    
    iii. 组成部分与基本特点：
        完整的js实现包括三个部分，ECMAScript、文档对象模型DOM、浏览器对象模型BOM
        JS 基于对象，简单，动态，跨平台的脚本语言

#### 7.2 引用js的方法
    i. 直接嵌入到HTML文件中
        这是最常用的方法，大部分含有Javascript代码的页面都采用这种方法，如下面的例子。将JavaScript代码直接写在<script></script>标签中。

    ii. 引用外部文件 
        为了提高程序代码的可重用性，可以将一些常用功能实现代码写在一个单独的JavaScript源文件中（扩展名为.js），在页面中使用<script>标签将该文件引入进来即可。 

    iii. JavaScript的书写位置大致有3个地方。
        第一个地方，可以写在head头部
        第二个地方，可以写在body中
        第三个地方，以事件的形式写在标签上

#### 7.3 js语法规则
##### 7.3.1 语法
事项 | 说明
:---------------:|:-------------:|
1.JavaScript输出 | JavaScript语句向浏览器发出的命令。语句的作用是告诉浏览器该做什么。
2.分号           | 语句之间的分割是分号（;）注意：分号是可选项，JavaScript有自动填补分号的机制。
3.执行顺序，     | 按照编写顺序依次执行。
4.大小写敏感     |  JavaScript语言是区分大小写的，不管是命名变量还是使用关键字的时候。
5.空格，         | JavaScript会忽略掉多余的空格。
6.代码换行，     | 不可以在单词之间换行。

##### 7.3.2 标识符
    A. 就是指变量、函数、属性的名字，或者函数的参数。JavaScript标识符的命名遵循以下规则：
        a. JavaScript 标识符必须以字母、下划线（_）或美元符（$）开始。
        b. 后续的字符可以是字母、数字、下划线或美元符（数字是不允许作为首字符出现的，
        以便 JavaScript可以轻易区分开标识符和数字）。
        c. 不能把关键字和保留字作为标识符。
    B. 和其他任何编程语言一样，JavaScript 保留了一些标识符为自己所用。
    C. JavaScript 同样保留了一些关键字，这些关键字在当前的语言版本中并没有使用，
    但在以后 JavaScript 扩展中会用到。

##### 7.3.3 注释
    A. 在JavaScript中的注释符号和Java中基本一致，也分为单行和多行注释。
    注释后的信息仅仅是为了说明程序代码的功能，在程序的解释和运行中是被忽略的。
    B. 注释符号分为以下两种：
        单行注释：使用“//”符号对单行信息进行注释
        多行注释：使用“/*  */”符号对多行信息进行注释

#### 7.4 js数据类型
##### 7.4.1 常用类型
    JavaScript中支持的数据类型有：
常用类型 |  说明
:------:|:-----:|
字符串： | 使用单引号或双引号括起来的一个或多个字符，如"abc"，'hello'，"你好"。
数值：   | 包括整数和浮点数，整数可以表示正负整数和零，<br>浮点数可以用整数加小数表示，也可以用科学计数法表示。
布尔值： | 可以取值为true和false。
对象：   | object是JavaScript的重要组成部分。
空值：   | 空值null。
未定义值 | 未定义值undefined。

    特殊字符：又叫转义字符，主要有以下几种：
特殊字符 |	含义
:------:|:------:|
\b	    | 表示退格
\n	    | 表示换页
\t	    | 表示Tab符号
\r	    | 表示回车符
\"	    | 表示双引号本身
\'	    | 表示单引号本身
\\	    | 表示反斜线
\b	    | 表示退格

##### 7.4.2 typeof运算符
    A. typeof是一元运算符，用来返回操作数类型的字符串。
        运算数为数字 typeof(x) = “number”
        运算数为字符串 typeof(x) = “string”
        运算数为布尔值 typeof(x) = “boolean”
        运算数为对象，数组和null typeof(x) = “object”
        运算数为函数 typeof(x) = “function”
输入操作数   |	输出字符串
:----------:|:----------:|
未定义	     | undefined
布尔值	     | boolean
字符串	     | string
数值	     | number
对象或者null | object
函数	     | function
    
    B. 应用场景
        可以使用typeof来获取一个变量是否存在。
            如if(typeof a!="undefined"){}，而不要去使用if(a)，
            因为如果a不存在（未声明）则会出错。
            如果typeof的运算数未定义，返回的就是 “undefined”。
        typeof 运算符返回一个用来表示表达式的数据类型的字符串。
            可能的字符串有：
            ”number”、 ”string”、”boolean”、”object”、”function” 和 “undefined”。
                alert(typeof (123));//返回”number”
                alert(typeof (“123″));//返回”string”
        对于Array,Null等特殊对象使用typeof一律返回object，这正是typeof的局限性。
            a. 如果我们希望获取一个对象是否是数组，或判断某个变量是否是某个对象的实例
            则要选择使用instanceof。instanceof用于判断一个变量是否某个对象的实例。
            b. 如下示例,会返回true，同时alert(a instanceof Object)也会返回true;
            这是因为Array是Object的子类。：
                var a=new Array();
                alert(a instanceof Array);

##### 7.4.3 undefined类型
    Undefined类型只有一个值，即undefined，表示变量已声明，但未被初始化。
    需要注意的是当使用typeof操作符判断数据类型时，未被声明的变量和
    未初始化的变量返回的值都为undefined。
        var message;
        console.log(typeof message);//undefined
        console.log(typeof age);//undefined

##### 7.4.4 Null
    Null类型只有一个值，即null，表示一个空对象指针。使用typeof操作符返回的值是'object',
    需要注意的是，undefined值是派生自null值的，因此ECMA-262规定对它们的相等性测试要返回true。
        console.log(null == undefined);//true
    可以这样判断一个变量是否是undefined。
        typeof variable === "undefined"
    可以这样判断一个变量是否是null。
        variable === null
    双等号比较时它们相等，但三等号比较时不相等。
        null == undefined // true
        null === undefined // false

##### 7.4.5 Object
    i. 简介
        ECMAScript中的对象是可变的键控集合（即一组数据和功能的集合）。
        它将很多值聚合在一起，可通过名字访问这些值。对象也可看做属性的容器，
        每个属性都是一个名/值对。属性的名字可以是包括空字符串在内的任意字符串。
        属性值可以是除undefined值之外的任何值。对象最常见的用法是：
            创建（create）、
            设置（set）、
            查找（query）、
            删除（delete）、
            检测（test）
            枚举（enumerate）他的属性。
    ii. 创建Object实例的方式
        （1）使用new操作符后跟Object构造函数
            var person = new Object();
            person.name = "Nicholas";
            person.age = 21;
        （2）对象字面量表示法
            var person = {name:"Nicholas",age:21,5:true};
            在通过对象字面量定义对象时，实际上不会调用Object构造函数。

    iii. 访问对象属性的方法
        A. 点表示法
            例如，访问上例中person的属性name，写法如下：
            alert(person.name); //"Nicholas"
        B. 方括号表示法
            a. 方括号语法应该将要访问的属性以字符串的形式放在方括号中
                alert(person["name"]); //"Nicholas"
            b. 方括号表示法可以通过变量来访问属性
                var propertyName = "name"; 
                alert(person[propertyName]); //"Nicholas"

#### 7.5 js控制流程
##### 7.5.1 变量
    i. 变量命名原则
        A. 说明
            在JavaScript中，变量的类型采用弱类型的方式，即声明变量时不需要严格指明变量的数据类型，
            所有变量的声明均使用“var”关键字。当为变量赋值时，会根据赋给变量的值的类型确定
            变量的数据类型。
        B. 变量命名时，需要遵守以下几个规则：
            a. 变量命名必须以一个英文字母或是下划线为开头，
                也就是说，变量名第一个字符必须是A到Z或是a到z之间的字母或是“_”。
            b. 变量名长度在0～255字符之间。
            c. 除了首字符，其他字符可以使用任何字符、数字及下划线，但是不可以使用空格。
            d. 不可以使用JavaScript的运算符号，例如：+，–，*，／等。
            e. 不可以使用JavaScript用到的保留字，例如：var，function等。
            f. 在JavaScript中，变量名中的大小写字母是有所区别的，
                例如：变量myVar和myvar是不同的两个变量。

    ii. 变量作用域
        变量的作用域包括两种：
            全局变量，定义在函数体之外，作用范围是所有函数。
            局部变量，定义在函数体之内，作用范围是本函数。

    iii. 变量数据类型转换
        A. JavaScript中提供了显式的将值从一种数据类型转换为另一种数据类型的转换函数。
        基本数据类型转换的三种函数有：
            a. 转换为字符串类型：String()
                例如：String(2012)的结果为字符串"2012"
            b. 转换为数值类型：Number()
                例如：Number("2012")的结果为数值2012
            c. 转换为布尔类型：Boolean()
                例如：Boolean(false)的结果为布尔值false
        B. 在ECMAScript v3和JavaScript 1.5中，增加了三种将数字转换成字符串的方法：
            toFixed()：
                把数字转换成字符串，并显示小数点后指定的位数。
            toExponential()：
                用指数计数法把数字转换成字符串，该字符串中的小数点前有一位数字，
                小数点后有指定位数的数字。
            toPrecision()：
                用指定位数的有效数字显示数字，如果有效数字的位数
                不足以显示数字的整数部分，它将采用指数计数法显示数字。
        C. JavaScript也提供了更灵活的字符串到数值的转换函数：
            parseInt()：
                将字符串转换为整数，并忽略其后所有非数字后缀。
                对于以0x和0X开头的字符串，parseInt()将它解释为十六进制数。
                parseInt()还可以具有第二个参数，用来指定要被解析的数的基数。
                其合法值在2到36之间。
            parseFloat()：
                将字符串转换为浮点数，并忽略其后所有非数字后缀。
            需要注意
                如果parseInt()和parseFloat()不能将指定的字符串转换成数字，将返回NaN。

##### 7.5.2 运算符
    i. JavaScript中支持的运算符主要有以下几种：
        算术运算符：+、-、*、/、%、++、--
        比较运算符：<、>、<=、>=、==、!=、===（严格等于）、!==（严格不等于）
        逻辑运算符：&&、||、!  
        赋值运算符：=、+=、-=、*=、/=、%=、&=、|=、^=、<<=、>>=、>>>=
        条件选择符：条件表达式？A：B
    ii. JavaScript的表达式
        表达式，是变量、常量、布尔以及运算符的集合，可以对变量进行赋值、改变、计算等一系列操作。
        表达式可以分为：
        算术表达式
        字符串表达式
        赋值表达式
        布尔表达式

##### 7.5.3 流程控制语句
    i. 条件句与多分支语句
        A. if…else语句，是最基本、最简单的条件语句。其语法格式如下：
            if (条件) {
                当条件为 true 时执行的代码
            } else {
                当条件不为 true 时执行的代码
            }
        B. 使用 if....else if...else 语句来选择多个代码块之一来执行。
            if (条件 1) {
            当条件 1 为 true 时执行的代码
            } else if (条件 2) {
            当条件 2 为 true 时执行的代码
            } else {
            当条件 1 和 条件 2 都不为 true 时执行的代码
            }
        C. switch语句，用于对一个表达式进行多次判断，每一种的取值都采取不同的处理方法。其语法格式如下：
            switch(n)
            {
                case 1: 执行代码块 1;  break;
                case 2: 执行代码块 2;  break;
                default: n 与 case 1 和 case 2 不同时执行的代码
            }

    ii. 循环语句
        A. for语句，用于反复地执行一段程序，并且在每次循环后处理变量，
            直到循环条件表达式计算结果为假。其语法格式如下：
            for(循环变量初始化语句; 循环条件表达式; 循环变量更新语句){
                循环语句块;
            }
        B. while语句，用于在循环条件成立时一直循环执行一些语句块，
            直到条件不成立为止，其循环次数不固定。while语句在执行循环体语句块之前
            先检查循环条件，若条件不满足则一次也不执行，直接退出。其语法格式如下：
            while(循环条件表达式){
                循环语句块;
            }
        C. do…while语句，与while语句类似，
            区别在于do...while语句在执行循环体语句块之前不会先检查循环条件，
            即使条件不满足，循环体语句块也会至少执行一次。其语法格式如下：
            do{
                循环语句块;
            }while(循环条件表达式)

    iii. 跳转语句
        break语句
            break语句用于无条件地跳出switch语句或者循环结构
        continue语句
            continue语句是结束本轮循环，开始执行下一轮循环。
        return语句
            将函数的处理结果返回给调用函数的语句。

#### 7.8 js函数
    i. JavaScript函数定义语句
        JavaScript函数可以封装那些在程序中可能需要多次使用的模块，并可以作为事件驱动处理程序。
        函数的定义（需要提前定义）：
            函数定义分为三个部分：函数名、参数列表和函数体。
                定义函数的格式为：
                Function 函数名(参数1，参数2)
                {函数执行部分；
                }
    ii. 使用函数时需要注意以下几点：
        （1）函数名是调用函数时引用的名称，它是大小写敏感的；
        （2）参数表示传递给函数使用或操作的值，它可以是常量，
            也可以是变量，在函数内部可以通过arguments对象访问所有参数；
        （3）函数体中的return语句用于返回函数的返回值，函数也可以不返回任何值。
        （4）函数在定义时，其中的代码并不会被执行。
            只有当函数被调用时，其中的代码才会真正被执行。
    iii. 函数的参数
        调用函数时，变量、常量都可以作为参数传递；
        参数的传递是以传值的方式进行的。
            例如：
            Hello(“jason”)；
            var user=“jason”; hello(user);
        也可以在定义函数时不指定使用的参数，javaScript会在每次调用该函数时
        自动生成arguments数组，并建立与参数列表有关的属性。
            Functionname.arguments：
                是一个数组，每一个参数对应其中的一个元素，可以使用该数组来访问调用时所传送的参数。
            Functionname.arguments.length，
                是一个整型变量，表示传递参数的个数。
        可以使用这两个属性产生参数个数可变的函数。
    iv. 函数返回值和变量
        A. 使用return语句，将需要返回的值放在return后面，
            可以是常量、变量以及有唯一确定值的有效表达式。
        B. 在 JavaScript 函数内部声明的变量称为局部变量，只能在函数内部访问它。
            可以在不同的函数中声明和使用名称相同的局部变量。
            JavaScript 变量的生命周期从它们被声明时开始，只要函数运行完毕，局部变量就会被删除。
        C. 在函数外声明的变量是全局变量，网页上的所有脚本和函数都能访问它。
            全局变量会在页面关闭后被删除。
    v. 预定义函数
内建函数      |     说明
:-----------:|:-----------:|
parseInt()   |  将输入值转换成整数类型输出，第二参数指定转换的进制
parseFloat() |  将输入值转换成十进制数，只有一个参数
isNaN()      |  测试是否为一个数字(Is not a number).返回值为Boolean
isFinite()   |  检查输入是不是一个既非infinity 也非NaN 的数字
escape()     |  将字符转换为Unicode码
unescape()   |  解码由escape函数编码的字符
eval()       |  将输入字符串(表达式)当作JavaScript代码来执行
alert()      |  显示一个提醒对话框,包括一个OK按钮
confirm()    |  显示一个确认对话框，包括OK和Cancel按钮
prompt()     |  显示一个输入对话框，提示等待用户输入

#### 7.9 js常用事件
    事件是指用户与Web页面交互时产生的各种操作。
    浏览器为了响应某个事件而进行的处理过程，叫做事件处理（这个处理过程叫做事件处理函数）。
    程序运行时，浏览器一直等待页面事件的发生。

    i. 鼠标事件 6个：
            onMouseDown:在对象上按下鼠标键的时候
            onMouseUp:在对象上按下鼠标建后，放开鼠标建的时候
            onMouseOut:当鼠标离开对象的时候。
            onClick:当对象被点击的时候
            onMouseOver:当鼠标悬停与对象上方的时候
            onMouseMove:当鼠标移动的时候
    ii. 键盘事件 3个：
            onKeyDown:在键盘上按下某键的时候；
            onKeyUp:当键盘上松开某键的时候；
            onKeyPress:在键盘上按住某键的时候
    iii. 焦点事件 2个：
            onFocus:发生在窗口得到焦点的时候
            onBlur:发生在焦点失去焦点的时候
    iv. 调整窗口事件：
            onResize:发生在窗口被调整大小的时候。
    v. 加载和卸载窗口事件：
            onload:
                发生在文档全部加载完毕的时候，全部加载完毕意味着不但HTML文件，
                而且包含的图片、插件、空间、小程序等全部加载完毕。
            onUnload:发生在用户退出文档（或者关闭窗口、或者到另一个页面去）的时候。
    vi. 其他事件
            onChange:
                发生在文本输入区的内容被修改，然后焦点从文本输入区移走之后，
                主要用于实时检测输入的有效性，或者立即修改文档的内容。
            onError:
                当发生错误时触发该事件，其事件处理程序
                通常叫做“错误处理程序（Error Handler）”,用来处理错误。
            onReset:发生在表单的“重置”按钮被点击（按下并放开）的时候触发。
            onSubmit:发生在表单的“提交”按钮被点击（按下并放开）的时候触发。
    事件冒泡:
        以 onMouseOver 和 onMouseEnter为例两者触发事件的效果类似，但onMouseEnter不支持事件冒泡，
        当鼠标指针进入某元素时,该元素会响应两种事件，且效果相同，但该元素的子元素无法继续冒泡性的触发onMouseEnter事件，而onMouseOver会继续冒泡执行。









